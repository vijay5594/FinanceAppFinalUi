{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"src/app/services/notification.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"src/app/services/user.service\";\nimport * as i7 from \"@angular/common\";\n\nfunction Tab6Page_h5_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 2);\n    i0.ɵɵtext(1, \" No Data Found\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction Tab6Page_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-text\", 3);\n    i0.ɵɵelementStart(2, \"h4\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r3.customerName);\n  }\n}\n\nfunction Tab6Page_ion_col_8_ng_template_14_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \"Payment Amount is required *\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction Tab6Page_ion_col_8_ng_template_14_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \"Product Type is required *\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction Tab6Page_ion_col_8_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"Payment Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-content\", 13);\n    i0.ɵɵelementStart(4, \"ion-grid\", 14);\n    i0.ɵɵelementStart(5, \"form\", 15);\n    i0.ɵɵlistener(\"ngSubmit\", function Tab6Page_ion_col_8_ng_template_14_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.payFormValue();\n    });\n    i0.ɵɵelementStart(6, \"ion-row\");\n    i0.ɵɵelementStart(7, \"ion-col\");\n    i0.ɵɵelementStart(8, \"ion-label\");\n    i0.ɵɵtext(9, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"ion-input\", 16);\n    i0.ɵɵtemplate(11, Tab6Page_ion_col_8_ng_template_14_span_11_Template, 2, 0, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"ion-col\", 18);\n    i0.ɵɵelementStart(13, \"ion-input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab6Page_ion_col_8_ng_template_14_Template_ion_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const item_r5 = i0.ɵɵnextContext().$implicit;\n      return item_r5.productCustomerId = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"ion-row\");\n    i0.ɵɵelementStart(15, \"ion-col\");\n    i0.ɵɵelementStart(16, \"ion-label\");\n    i0.ɵɵtext(17, \"Payment Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"ion-select\", 20);\n    i0.ɵɵelementStart(19, \"ion-select-option\", 21);\n    i0.ɵɵtext(20, \"Cash\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ion-select-option\", 22);\n    i0.ɵɵtext(22, \"Online\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, Tab6Page_ion_col_8_ng_template_14_span_23_Template, 2, 0, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"ion-row\");\n    i0.ɵɵelementStart(25, \"ion-col\");\n    i0.ɵɵelementStart(26, \"ion-label\");\n    i0.ɵɵtext(27, \"Collected By\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"ion-input\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"ion-row\", 24);\n    i0.ɵɵelementStart(30, \"ion-col\");\n    i0.ɵɵelementStart(31, \"ion-button\", 25);\n    i0.ɵɵlistener(\"click\", function Tab6Page_ion_col_8_ng_template_14_Template_ion_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.onClose();\n    });\n    i0.ɵɵtext(32, \" Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"ion-col\");\n    i0.ɵɵelementStart(34, \"ion-button\", 26);\n    i0.ɵɵtext(35, \" \\u20B9 \\u00A0Pay \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r7.paymentForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.paymentForm.controls[\"paidAmount\"].valid && (ctx_r7.paymentForm.controls[\"paidAmount\"] == null ? null : ctx_r7.paymentForm.controls[\"paidAmount\"].touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r5.productCustomerId);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.paymentForm.controls[\"paymentType\"].valid && (ctx_r7.paymentForm.controls[\"paymentType\"] == null ? null : ctx_r7.paymentForm.controls[\"paymentType\"].touched));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"disabled\", !ctx_r7.thisFormValid());\n  }\n}\n\nfunction Tab6Page_ion_col_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\");\n    i0.ɵɵelementStart(1, \"ion-card\", 5);\n    i0.ɵɵelementStart(2, \"ion-item\");\n    i0.ɵɵelementStart(3, \"ion-label\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-item\");\n    i0.ɵɵelementStart(6, \"ion-chip\", 7);\n    i0.ɵɵlistener(\"click\", function Tab6Page_ion_col_8_Template_ion_chip_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.getHistory(item_r5.productCustomerId);\n    });\n    i0.ɵɵelement(7, \"ion-icon\", 8);\n    i0.ɵɵelementStart(8, \"ion-label\", 9);\n    i0.ɵɵtext(9, \"Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-chip\", 10);\n    i0.ɵɵelementStart(11, \"ion-label\", 9);\n    i0.ɵɵtext(12, \"Colllect\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-modal\", 11);\n    i0.ɵɵtemplate(14, Tab6Page_ion_col_8_ng_template_14_Template, 36, 5, \"ng-template\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", item_r5.slotNo, \" \\u00A0 \\u00A0\", item_r5.productName, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"subscriberList\", item_r5.productCustomerId, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"trigger\", \"subscriberList\", item_r5.productCustomerId, \"\");\n  }\n}\n\nexport let Tab6Page = /*#__PURE__*/(() => {\n  class Tab6Page {\n    constructor(apiService, router, modal, toast, fb, alertController, userService, notificationService) {\n      this.apiService = apiService;\n      this.router = router;\n      this.modal = modal;\n      this.toast = toast;\n      this.fb = fb;\n      this.alertController = alertController;\n      this.userService = userService;\n      this.notificationService = notificationService;\n      this.customerId = localStorage.getItem('customerId');\n      this.PaymentId = localStorage.getItem('productCustomerId');\n      this.currentUser = localStorage.getItem('userName');\n\n      this.generatePaymentForm = () => {\n        this.paymentForm = this.fb.group({\n          productCustomerId: [this.PaymentId],\n          paymentType: ['', Validators.required],\n          paymentDate: [moment().format()],\n          paidAmount: ['', Validators.required],\n          collectedBy: [this.currentUser]\n        });\n      };\n\n      this.getProductDetails();\n      this.generatePaymentForm();\n      this.customerList();\n    }\n\n    ngOnInit() {}\n\n    ionViewWillEnter() {\n      this.getProductDetails();\n      console.log('came');\n    }\n\n    getProductDetails() {\n      let cid = localStorage.getItem('customerId');\n      this.apiService.productForCustomerDetails(cid).subscribe(data => {\n        console.log(data, 'geetha');\n        this._data = data;\n        console.log(this._data, 'Geetha');\n      });\n    }\n\n    payFormValue() {\n      this.apiService.paymentDetails(this.paymentForm.value).subscribe(data => {\n        console.log(data, 'helo');\n        this.notificationService.success('Paid successfully');\n        this.router.navigate(['tabs/tab1']);\n      });\n      this.modal.dismiss();\n      this.paymentForm.reset();\n    }\n\n    onClose() {\n      this.modal.dismiss();\n    }\n\n    thisFormValid() {\n      if (this.paymentForm.valid) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    getHistory(data) {\n      this.userService.PaymentId = data;\n      this.router.navigate(['tabs/tab4']);\n      console.log(\"geeths\");\n    }\n\n    customerList() {\n      let pId = this.customerId;\n      console.log(pId, 'tab'); // // let pId = this.userService.getProductId();\n\n      this.apiService.ProductCustomer(pId).subscribe(data => {\n        console.log(data, 'hello');\n        this.productCustomerList = data;\n      });\n    }\n\n  }\n\n  Tab6Page.ɵfac = function Tab6Page_Factory(t) {\n    return new (t || Tab6Page)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ModalController), i0.ɵɵdirectiveInject(i4.NotificationService), i0.ɵɵdirectiveInject(i5.FormBuilder), i0.ɵɵdirectiveInject(i3.AlertController), i0.ɵɵdirectiveInject(i6.UserService), i0.ɵɵdirectiveInject(i4.NotificationService));\n  };\n\n  Tab6Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Tab6Page,\n    selectors: [[\"app-tab6\"]],\n    decls: 9,\n    vars: 7,\n    consts: [[\"class\", \"isDataNot ion-margin-top\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"isDataNot\", \"ion-margin-top\"], [\"color\", \"primary\"], [1, \"ion-margin\", 2, \"text-align\", \"right\"], [1, \"ion-padding\", \"ion-margin-top\"], [1, \"labelText\"], [\"color\", \"tertiary\", 3, \"click\"], [\"name\", \"people\", \"color\", \"primary\"], [\"color\", \"teritary\"], [\"color\", \"tertiary\", \"slot\", \"end\", 3, \"id\"], [3, \"trigger\"], [1, \"app-header\", 2, \"background-color\", \"#001D6E\"], [1, \"ion-padding\"], [\"id\", \"style-1\", 1, \"scrollbar\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"paidAmount\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [2, \"visibility\", \"hidden\", \"display\", \"none\"], [\"type\", \"text\", \"disabled\", \"\", \"formControlName\", \"productCustomerId\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Payment Type\", \"formControlName\", \"paymentType\"], [\"value\", \"Cash\"], [\"value\", \"Online\"], [\"type\", \"text\", \"disabled\", \"\", \"formControlName\", \"collectedBy\"], [1, \"ion-justify-content-center\", \"ion-margin-top\"], [\"expand\", \"block\", \"color\", \"danger\", 3, \"click\"], [\"type\", \"Submit\", \"expand\", \"block\", 3, \"disabled\"], [1, \"text-danger\"]],\n    template: function Tab6Page_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Subscriber List\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, Tab6Page_h5_2_Template, 2, 0, \"h5\", 0);\n        i0.ɵɵtemplate(3, Tab6Page_div_3_Template, 4, 1, \"div\", 1);\n        i0.ɵɵpipe(4, \"slice\");\n        i0.ɵɵelementStart(5, \"ion-content\");\n        i0.ɵɵelementStart(6, \"ion-grid\");\n        i0.ɵɵelementStart(7, \"ion-row\");\n        i0.ɵɵtemplate(8, Tab6Page_ion_col_8_Template, 15, 4, \"ion-col\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx._data == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(4, 3, ctx._data, 0, 1));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx._data);\n      }\n    },\n    directives: [i7.NgIf, i7.NgForOf, i3.IonContent, i3.IonGrid, i3.IonRow, i3.IonText, i3.IonCol, i3.IonCard, i3.IonItem, i3.IonLabel, i3.IonChip, i3.IonIcon, i3.IonModal, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i3.IonInput, i3.TextValueAccessor, i5.NgControlStatus, i5.FormControlName, i3.IonSelect, i3.SelectValueAccessor, i3.IonSelectOption, i3.IonButton],\n    pipes: [i7.SlicePipe],\n    styles: [\"ion-card[_ngcontent-%COMP%]{border-radius:18px;box-shadow:#64646f33 0 7px 29px}p[_ngcontent-%COMP%]{color:#001d6e}h1[_ngcontent-%COMP%]{color:#fff;font-weight:800}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{border-radius:10px;margin-top:1rem;border:.5px solid #c7d1ef;--padding-start: 15px !important;background-color:#fff}.saveButton[_ngcontent-%COMP%]{width:6.5rem;height:3rem;font-weight:700}ion-item[_ngcontent-%COMP%]{--inner-border-width: 0;padding-right:10px;margin:0}h2[_ngcontent-%COMP%]{color:#001d6e;font-weight:800;text-align:center}ion-label[_ngcontent-%COMP%]{font-weight:800;margin:0;color:#001d6e!important}@media (min-width: 500px){ion-modal[_ngcontent-%COMP%]{--height: 600px}}.paddingOnSide[_ngcontent-%COMP%]{padding:0 30px 0 20px}.text-danger[_ngcontent-%COMP%]{font-weight:800 bold!important;color:#f03a3a;margin:1.1rem;margin-bottom:10rem!important}.isDataNot[_ngcontent-%COMP%]{text-align:center!important}.labelText[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem}.labelFont[_ngcontent-%COMP%]{padding-left:1.5rem;margin:0}\"]\n  });\n  return Tab6Page;\n})();","map":null,"metadata":{},"sourceType":"module"}